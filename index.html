<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Flashcards Bolognia - M. ZERROUDI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      margin: 0;
      background: #f5f5f5;
    }

    /* Layout global : colonne gauche + zone principale */
    .layout {
      display: flex;
      min-height: 100vh;
    }

    /* Colonne de gauche */
    .sidebar {
      width: 260px;
      background: #111827;
      color: #e5e7eb;
      padding: 16px 12px;
      display: flex;
      flex-direction: column;
    }

    .sidebar h2 {
      font-size: 1rem;
      margin: 0 0 8px;
    }

    /* Liste scrollable de catégories */
    .category-list {
      margin-top: 8px;
      flex: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 6px;
      padding-right: 4px;
    }

    .category-item {
      text-align: left;
      padding: 6px 8px;
      border-radius: 8px;
      border: none;
      background: transparent;
      color: inherit;
      font-size: 0.85rem;
      cursor: pointer;
    }

    .category-item:hover {
      background: rgba(255, 255, 255, 0.12);
    }

    .category-item.active {
      background: #f9fafb;
      color: #111827;
      font-weight: 600;
    }

    /* Zone de droite */
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      padding: 24px;
    }

    .title {
      font-size: 1.6rem;
      font-weight: 600;
      margin: 0 0 8px;
      text-align: center;
      color: #111827;
    }

    /* Carte de flashcard */
    .card {
      width: 80vw;
      max-width: 1200px;
      min-height: 70vh;
      margin: 0 auto;

      background: white;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px;
      text-align: center;
      font-size: 1.1rem;
      cursor: pointer;
      user-select: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
    }

    .card-text {
      font-size: 1.1rem;
    }

    .caption {
      margin-top: 8px;
      font-size: 0.9rem;
      color: #6b7280;
    }

    /* Image dans la carte */
    #card img {
      width: 70%;
      height: auto;
      display: block;
      margin: 0 auto 16px;
      border-radius: 12px;
    }

    /* Boutons sous la carte */
    .controls {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
    }

    button {
      padding: 8px 14px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: #111827;
      color: white;
      font-size: 0.9rem;
    }

    button:disabled {
      opacity: 0.4;
      cursor: default;
    }

    .info {
      margin-top: 4px;
      font-size: 0.85rem;
      color: #6b7280;
      text-align: center;
    }

    /* Responsive simple */
    @media (max-width: 768px) {
      .layout {
        flex-direction: column;
      }

      .sidebar {
        width: 100%;
        max-height: 200px;
      }

      .card {
        width: 95vw;
        min-height: 60vh;
      }

      #card img {
        width: 90%;
      }
    }
  </style>
</head>
<body>
  <div class="layout">
    <!-- Colonne de gauche : catégories -->
    <aside class="sidebar">
      <h2>Catégories</h2>
      <div class="category-list">
        <!-- Aléatoire en premier et actif par défaut -->
        <button class="category-item active" data-category="Aléatoire">Aléatoire</button>
        <button class="category-item" data-category="Prurit et dysesthésies">Prurit et dysesthésies</button>
        <button class="category-item" data-category="Affections psychocutanées">Affections psychocutanées</button>
        <button class="category-item" data-category="Psoriasis">Psoriasis</button>
        <button class="category-item" data-category="Autres affections papulosquameuses">Autres affections papulosquameuses</button>
        <button class="category-item" data-category="Erythrodermie">Erythrodermie</button>
        <button class="category-item" data-category="Lichen plan et dermatoses lichénoïdes">Lichen plan et dermatoses lichénoïdes</button>
        <button class="category-item" data-category="Dermatite atopique">Dermatite atopique</button>
        <button class="category-item" data-category="Autres éruptions eczémateuses">Autres éruptions eczémateuses</button>
        <button class="category-item" data-category="Dermatites de contact / pro / aux plantes">Dermatites de contact / pro / aux plantes</button>
        <button class="category-item" data-category="Approche clinique des dermatoses régionales">Approche clinique des dermatoses régionales</button>
        <button class="category-item" data-category="Urticaire et angio-oedème">Urticaire et angio-oedème</button>
        <button class="category-item" data-category="Erythèmes figurés">Erythèmes figurés</button>
        <button class="category-item" data-category="Erythème polymorphe, SJS et NET">Erythème polymorphe, SJS et NET</button>
        <button class="category-item" data-category="Réactions aux médicaments">Réactions aux médicaments</button>
        <button class="category-item" data-category="Purpura et affections dues à une occlusion microvasculaire">Purpura et affections dues à une occlusion microvasculaire</button>
        <button class="category-item" data-category="Vascularites">Vascularites</button>
        <button class="category-item" data-category="Dermatoses éosinophiliques">Dermatoses éosinophiliques</button>
        <button class="category-item" data-category="Dermatoses neutrophiliques">Dermatoses neutrophiliques</button>
        <button class="category-item" data-category="Dermatoses de la grossesse">Dermatoses de la grossesse</button>
        <button class="category-item" data-category="Pemphigus">Pemphigus</button>
        <button class="category-item" data-category="Pemphigoïde et épidermolyse bulleuse acquise">Pemphigoïde et épidermolyse bulleuse acquise</button>
      </div>
    </aside>

    <!-- Partie droite : titre + carte + boutons -->
    <main class="main">
      <h1 class="title">Flashcards Bolognia - M. ZERROUDI</h1>

      <div id="card" class="card"></div>

      <div class="controls">
        <button id="prevBtn">Précédente</button>
        <button id="flipBtn">Retourner Q/R</button>
        <button id="nextBtn">Suivante</button>
      </div>

      <div id="info" class="info"></div>
    </main>
  </div>

 <script>
  // Toutes les cartes (tu pourras en ajouter autant que tu veux)
  const allCards = [
    {
      category: "Urticaire et angio-oedème",
      front: "Que montre cette image ?",
      back: "Urticaire annulaire géante.",
      image: "urticaire annulaire géante p30.png", // nom EXACT du fichier dans le repo
      caption: "Photographie clinique d’urticaire annulaire géante (Bolognia p.30)."
    },
    {
      category: "Pemphigus",
      front: "Que montre cette image ?",
      back: "Pemphigoïde vulgaire",
      image: "PV p231.png",
      caption: "PV : bulles fragiles, éphémères et se rompant facilement, laissant des croûtes et érosions qui deviennent extensives."
    },
    {
      category: "Pemphigus",
      front: "Que montre cette image ?",
      back: "Pemphigoïde bulleuse",
      image: "PB.png",
      caption: "Dans la PB, de multiples bulles tendues sont observées ; le contenu des bulles est habituellement séreux comme chez ce patient. Les bulles ont une durée de vie supérieure à celles du PV, mais peuvent éventuellement se rompre, conduisant à des érosions et des croûtes."
    },
    {
      category: "Pemphigus",
      front: "Que montre cette image ?",
      back: "Pemphigus vulgaire",
      image: "PV muq.png",
      caption: "Presque tous les patients développent des érosions douloureuses de la muqueuse orale, les localisations les plus habituelles étant les muqueuses buccale et palatine, mais des lésions peuvent aussi se développer sur la gencive et la langue."
    },
    {
      category: "Pemphigus",
      front: "Que montre cette image ?",
      back: "Pemphigus vulgaire",
      image: "PV.png",
      caption: "Les vésicules et bulles flasques sont fragiles et se rompent facilement, laissant des érosions. Une réponse végétante peut occasionnellement être observée dans les lésions chroniques récalcitrantes."
    },
    {
      category: "Pemphigus",
      front: "Que montre cette image ?",
      back: "Pemphigus végétant",
      image: "pemphi v.png",
      caption: "Plaques papillomateuses étendues, végétantes, épaisses, survenant en conjonction avec des érosions. Les lésions cicatrisées montrent une hyperpigmentation post-inflammatoire résiduelle."
    },
    {
      category: "Pemphigus",
      front: "Que montre cette image ?",
      back: "Pemphigus foliacé",
      image: "PF.png",
      caption: "Plusieurs érosions survenant sur une base érythémateuse ainsi que des squames-croûtes caractéristiques, variables en épaisseur. Un site fréquent d’atteinte est le tronc. Quand la maladie progresse, les lésions deviennent confluentes ; comme les vésicules sont fragiles et se rompent facilement, seules des érosions avec squames-croûtes sont observées."
    },
    {
      category: "Pemphigus",
      front: "Que montre cette image ?",
      back: "Pemphigus érythémateux",
      image: "PE.png",
      caption: "Plaques érythémateuses avec des squames-croûtes et des érosions sur le nez et les joues. Initialement considérée comme une combinaison de pemphigus vulgaire et de lupus érythémateux, cette affection est aujourd’hui classée comme une variante localisée de pemphigus foliacé."
    },
    {
      category: "Pemphigus",
      front: "Que montre cette image ?",
      back: "Pemphigus paranéoplasique",
      image: "PP.png",
      caption: "Érosions associées à des croûtes hémorragiques, pouvant s’étendre sur la lèvre vermillon et atteindre la muqueuse nasale ; la lésion du menton ressemble à un pemphigus vulgaire."
    },
    {
      category: "Pemphigus",
      front: "Que montre cette image ?",
      back: "Pemphigus à IgA - type dermatose pustuleuse sous-cornéenne",
      image: "PIgA.png",
      caption: "Les pustules tendent par coalescence à former une figure annulaire ou figurée avec érosions, squames-croûtes et hyperpigmentation post-inflammatoire centrale. Noter l’accumulation du composant pustuleux dans la portion déclive de la vésiculopustule."
    }
  ];

  let currentCategory = "Aléatoire";
  let filteredCards = [];
  let currentIndex = 0;
  let isFront = true;

  const cardEl = document.getElementById("card");
  const infoEl = document.getElementById("info");
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  const flipBtn = document.getElementById("flipBtn");
  const categoryButtons = document.querySelectorAll(".category-item");

  function shuffleArray(arr) {
    const a = [...arr];
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  function applyCategory(categoryName) {
    currentCategory = categoryName;

    if (categoryName === "Aléatoire") {
      filteredCards = shuffleArray(allCards);
    } else {
      filteredCards = allCards.filter(card => card.category === categoryName);
    }

    currentIndex = 0;
    isFront = true;
    renderCard();
  }

  function renderCard() {
    if (!filteredCards || filteredCards.length === 0) {
      cardEl.innerHTML = "<div>Aucune carte pour cette catégorie pour l’instant.</div>";
      infoEl.textContent = "";
      prevBtn.disabled = true;
      nextBtn.disabled = true;
      return;
    }

    const current = filteredCards[currentIndex];

    let html = "";

    if (current.image) {
      html += `
        <img
          src="${current.image}"
          alt="Image de la carte"
        >
      `;
    }

    html += `<div class="card-text">${isFront ? current.front : current.back}</div>`;

    if (current.caption && !isFront) {
      html += `<p class="caption">${current.caption}</p>`;
    }

    cardEl.innerHTML = html;

    infoEl.textContent =
      `Catégorie : ${currentCategory} — Carte ${currentIndex + 1} / ${filteredCards.length} — ` +
      (isFront ? "Question" : "Réponse");

    prevBtn.disabled = currentIndex === 0;
    nextBtn.disabled = currentIndex === filteredCards.length - 1;
  }

  cardEl.addEventListener("click", () => {
    if (!filteredCards.length) return;
    isFront = !isFront;
    renderCard();
  });

  flipBtn.addEventListener("click", () => {
    if (!filteredCards.length) return;
    isFront = !isFront;
    renderCard();
  });

  prevBtn.addEventListener("click", () => {
    if (currentIndex > 0) {
      currentIndex--;
      isFront = true;
      renderCard();
    }
  });

  nextBtn.addEventListener("click", () => {
    if (currentIndex < filteredCards.length - 1) {
      currentIndex++;
      isFront = true;
      renderCard();
    }
  });

  categoryButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      categoryButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      const cat = btn.dataset.category;
      applyCategory(cat);
    });
  });

  // Initialisation : catégorie Aléatoire
  applyCategory("Aléatoire");
</script>



    let currentCategory = "Aléatoire";
    let filteredCards = [];
    let currentIndex = 0;
    let isFront = true;

    const cardEl = document.getElementById("card");
    const infoEl = document.getElementById("info");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const flipBtn = document.getElementById("flipBtn");
    const categoryButtons = document.querySelectorAll(".category-item");

    function shuffleArray(arr) {
      const a = [...arr];
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function applyCategory(categoryName) {
      currentCategory = categoryName;

      if (categoryName === "Aléatoire") {
        filteredCards = shuffleArray(allCards);
      } else {
        filteredCards = allCards.filter(card => card.category === categoryName);
      }

      currentIndex = 0;
      isFront = true;
      renderCard();
    }

    function renderCard() {
      if (!filteredCards || filteredCards.length === 0) {
        cardEl.innerHTML = "<div>Aucune carte pour cette catégorie pour l’instant.</div>";
        infoEl.textContent = "";
        prevBtn.disabled = true;
        nextBtn.disabled = true;
        return;
      }

      const current = filteredCards[currentIndex];

      let html = "";

      if (current.image) {
        html += `
          <img
            src="${current.image}"
            alt="Image de la carte"
          >
        `;
      }

      html += `<div class="card-text">${isFront ? current.front : current.back}</div>`;

      if (current.caption && !isFront) {
        html += `<p class="caption">${current.caption}</p>`;
      }

      cardEl.innerHTML = html;

      infoEl.textContent =
        `Catégorie : ${currentCategory} — Carte ${currentIndex + 1} / ${filteredCards.length} — ` +
        (isFront ? "Question" : "Réponse");

      prevBtn.disabled = currentIndex === 0;
      nextBtn.disabled = currentIndex === filteredCards.length - 1;
    }

    // Interactions
    cardEl.addEventListener("click", () => {
      if (!filteredCards.length) return;
      isFront = !isFront;
      renderCard();
    });

    flipBtn.addEventListener("click", () => {
      if (!filteredCards.length) return;
      isFront = !isFront;
      renderCard();
    });

    prevBtn.addEventListener("click", () => {
      if (currentIndex > 0) {
        currentIndex--;
        isFront = true;
        renderCard();
      }
    });

    nextBtn.addEventListener("click", () => {
      if (currentIndex < filteredCards.length - 1) {
        currentIndex++;
        isFront = true;
        renderCard();
      }
    });

    categoryButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        categoryButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        const cat = btn.dataset.category;
        applyCategory(cat);
      });
    });

    // Initialisation : catégorie Aléatoire
    applyCategory("Aléatoire");
  </script>
</body>
</html>
